<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.moira.itda.domain.info.mapper.GachaInfoAddMapper">
    <!-- 정보등록요청 탭 > 정보등록요청 > 파일 ID 존재 여부 확인 -->
    <select id="selectFileIdChk">
        SELECT COUNT(id) FROM IMAGE_FILE WHERE file_id = #{fileId}
    </select>

    <!-- 정보등록요청 탭 > 정보등록요청 > GachaInfoAdd 저장 -->
    <insert id="insertGachaInfoAdd">
        INSERT INTO GACHA_INFO_ADD (
               id
             , user_id
             , status
             , type
             , content
             , file_id
             , admin_comment
             , receive_email_yn
             , requested_at
             , processed_at
        )
        VALUES (
               #{id}
             , #{userId}
             , #{status}
             , #{type}
             , #{content}
             , #{fileId}
             , #{adminComment}
             , #{receiveEmailYn}
             , #{requestedAt}
             , #{processedAt}
        )
    </insert>
</mapper>