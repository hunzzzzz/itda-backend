<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.moira.itda.domain.chat.report.mapper.ChatReportMapper">
    <!-- 유저신고 > TradeUserReport 저장 -->
    <insert id="insertTradeUserReport">
        INSERT INTO TRADE_USER_REPORT (
               chat_room_id
             , trade_id
             , trade_suggest_id
             , gacha_id
             , report_user_id
             , reported_user_id
             , report_reason
             , report_at
        )
        VALUES (
               #{chatRoomId}
             , #{tradeId}
             , #{tradeSuggestId}
             , #{gachaId}
             , #{reportUserId}
             , #{reportedUserId}
             , #{reportReason}
             , #{reportAt}
        )
    </insert>

    <!-- 유저신고 > TradeSuggest status 조회 -->
    <select id="selectTradeSuggestStatus" resultType="java.lang.String">
        SELECT status FROM TRADE_SUGGEST WHERE id = #{tradeSuggestId}
    </select>
</mapper>