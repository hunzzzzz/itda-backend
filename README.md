# ITDA (잇다: 가챠 거래 플랫폼)

![Version](https://img.shields.io/badge/version-1.0.0-blue)

**ITDA(잇다)**는 가챠(캡슐 토이) 아이템 거래 플랫폼을 위한 백엔드 서버입니다. 사용자 간의 아이템 판매 및 교환 게시글 작성, 거래 제안, 그리고 거래 확정을 위한 실시간 채팅 기능을 제공하며, 효율적인 플랫폼 운영을 위한 종합적인 관리자 기능을 포함하고 있습니다.

---

## 📌 프로젝트 관련 정보
* **현재 버젼**: `v1.0.0`
* **개발 기간**: 2025-12-16 ~ 2026-01-15
* **도메인**: https://itda.lovable.app/ 

---

## ✨ 주요 기능

### 👤 사용자 관리
* **보안 인증:** 이메일 인증을 통한 회원가입, 로그인 및 로그아웃.
* **권한 기반 인증:** JWT(Access & Refresh Token)를 이용한 안전한 인증 체계.
* **마이페이지:** 프로필 관리, 거래 내역 조회 및 개인 정보 수정.
* **거래 장소 관리:** 선호하는 거래 위치("내 장소") 설정 및 관리.

### 🎡 가챠 정보 관리
* **데이터베이스 구축:** 가챠 시리즈 및 개별 아이템 정보 조회 및 관리.
* **사용자 인터랙션:** 가챠 상세 정보 확인, 사용자별 획득 확률(Pick Rate) 확인, 위시리스트 추가.
* **기록하기:** 사용자가 직접 뽑은 가챠 이력을 기록하는 "가챠 픽 히스토리" 기능.

### 🤝 거래 및 상태 관리 시스템
* **유연한 거래 구조:** 하나의 판매/교환글(Trade) 내에 1개 이상의 거래 항목(TradeItem)을 포함할 수 있는 구조 설계.
* **자동 상태 동기화:**
    * 하위 아이템 중 하나라도 거래 중(`PENDING`)이면 게시글은 `PENDING` 유지.
    * 모든 아이템이 거래 완료(`COMPLETED`) 또는 삭제(`DELETED`)되면 게시글은 자동으로 `ENDED` 전환.
* **데이터 무결성:** `APPROVED` 또는 `PENDING` 상태의 거래 제안이 존재하는 경우 게시글 삭제를 방지하는 유효성 검사 로직 적용.

### 💡 거래 제안 및 협상
* **제안 프로세스:** 가격 협상을 포함한 **구매 제안** 및 특정 아이템을 지정하는 **교환 제안**.
* **판매자 검토:** 수신된 제안에 대한 승인/거절 프로세스 및 거래 프로세스 제어.

### 💬 실시간 채팅
* **채팅방 자동 생성:** 거래 제안이 승인되면 판매자와 구매자 간의 전용 WebSocket 기반 채팅방 즉시 개설.
* **실시간 소통:** STOMP 프로토콜을 이용한 양방향 메시지 송수신.
* **거래 마무리:** 채팅창 내에서 거래 완료 처리, 취소 및 사용자 신고 기능 제공.

### 🛠️ 관리자 패널
* **운영 도구:** 사용자 활동 모니터링, 계정 제재(Ban), 공통 코드 및 가챠 데이터베이스 CRUD 관리.

---

## 🛠️ 기술 스택

- **Language**: Kotlin
- **Framework**: Spring Boot 3
- **Data Access**: MyBatis
- **Database**: MySQL
- **Authentication**: Spring Security, JSON Web Token (JWT)
- **Real-time**: Spring WebSocket, STOMP
- **Storage**: AWS S3 (이미지 업로드)
- **Containerization**: Docker
- **Build Tool**: Gradle

---

## 🏗️ 프로젝트 아키텍처

본 프로젝트는 **도메인 중심(Domain-Oriented)** 구조로 설계되었습니다. 각 기능은 `domain` 패키지 내에서 독립적으로 관리되어 모듈성과 유지보수성을 높였습니다.

추후 프로젝트 패키지 구조를 업로드할 예정입니다.
